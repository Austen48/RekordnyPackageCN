add_namespace = StGloriana_event
add_namespace = StGloriana_focus
add_namespace = StGloriana_new


#一场遗留的战争
country_event = {
	id = StGloriana_new.1
	title = StGloriana_new.1.t
	desc = StGloriana_new.1.d
	picture = GFX_StGloriana_new_1
	is_triggered_only = yes

	option = {
		name = StGloriana_new.1.a
		set_country_flag = STG_Legacy_war_flag
	}
}

#避其锋芒
country_event = {
	id = StGloriana_new.2
	title = StGloriana_new.2.t
	desc = StGloriana_new.2.d
	picture = GFX_StGloriana_new_2
	is_triggered_only = no
	fire_only_once = yes
	trigger = {
		original_tag = STG
		has_war_with = ORA
		has_completed_focus = STG_control_social_media
		has_country_flag = {
			flag = STG_Legacy_war_flag 
			days > 365
		}
	}
	
	option = {
		name = StGloriana_new.2.a
		unlock_national_focus = STG_victocry_in_egypt
		add_timed_idea = {
			idea = STG_Failure_Egypt
			days = 365
		}
		white_peace = {
			tag = ORA
			message = STG_WP_ORA
		}
	}
}

#爱尔兰西吴王子的白鸟
country_event = {
	id = StGloriana_new.3
	title = StGloriana_new.3.t
	desc = StGloriana_new.3.d
	picture = GFX_StGloriana_new_3
	is_triggered_only = yes

	option = {
		name = StGloriana_new.3.a
		add_ideas = STG_Irish_independence_rebellion
		WKG = { add_ideas = STG_Chengdu_Berlin_flesh_blood }
	}
}

#血腥礼拜(暂无触发)
country_event = {
	id = StGloriana_new.4
	title = StGloriana_new.4.t
	desc = StGloriana_new.4.d
	picture = GFX_StGloriana_new_4
	is_triggered_only = no
	fire_only_once = yes

	option = {
		name = StGloriana_new.4.a
		release = WKG
		declare_war_on = {
			target = WKG
			type = civil_war
		}
	}
}

##########################################################################################################################
#国策事件

#任命财务大臣
country_event = {
	id = StGloriana_focus.1
	title = StGloriana_focus.1.t
	desc = StGloriana_focus.1.d

	picture = GFX_StGloriana_focus_1

	is_triggered_only = yes

	option = {
		name = StGloriana_focus.1.a
		trigger = { STG_assam = { is_advisor = no } }
		STG_assam = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_assam
					visible = { }
					traits = { banning_old_school_jokes }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = democratic 
			popularity = 0.05 
		}
	}
	
	option = {
		name = StGloriana_focus.1.b
		trigger = { STG_earlGrey = { is_advisor = no } }
		STG_earlGrey = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_earlGrey
					visible = { }
					traits = { two_faced_devil_2 }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = fascism 
			popularity = 0.05 
		}
	}
	
	option = {
		name = StGloriana_focus.1.c
		trigger = { STG_nilgiri = { is_advisor = no } }
		STG_nilgiri = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_nilgiri
					visible = { }
					traits = { unlucky_but_cute }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = communism 
			popularity = 0.05 
		}
	}
}

#任命外交大臣
country_event = {
	id = StGloriana_focus.2
	title = StGloriana_focus.2.t
	desc = StGloriana_focus.2.d

	picture = GFX_StGloriana_focus_2

	is_triggered_only = yes

	option = {
		name = StGloriana_focus.2.a
		trigger = { STG_orangepekoe = { is_advisor = no } }
		STG_orangepekoe = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_orangepekoe
					visible = { }
					traits = { absolutely_loyal_comedian_2 }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = democratic 
			popularity = 0.05 
		}
	}
	
	option = {
		name = StGloriana_focus.2.b
		trigger = { STG_rosehip = { is_advisor = no } }
		STG_rosehip = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_rosehip
					visible = { }
					traits = { challenge_the_fastest }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = democratic 
			popularity = 0.05 
		}
	}
	
	option = {
		name = StGloriana_focus.2.c
		trigger = { STG_rukuriri = { is_advisor = no } }
		STG_rukuriri = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_rukuriri
					visible = { }
					traits = { pretend_to_be_calm_2 }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = communism 
			popularity = 0.05 
		}
	}
}

#任命国防大臣
country_event = {
	id = StGloriana_focus.3
	title = StGloriana_focus.3.t
	desc = StGloriana_focus.3.d

	picture = GFX_StGloriana_focus_focus_3

	is_triggered_only = yes

	option = {
		name = StGloriana_focus.3.a
		trigger = { STG_assam = { is_advisor = no } }
		STG_assam = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_assam
					visible = { }
					traits = { banning_old_school_jokes_2 }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = democratic 
			popularity = 0.05 
		}
	}
	
	option = {
		name = StGloriana_focus.3.b
		trigger = { STG_rosehip = { is_advisor = no } }
		STG_rosehip = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_rosehip
					visible = { }
					traits = { challenge_the_fastest_2 }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = democratic 
			popularity = 0.05 
		}
	}
	
	option = {
		name = StGloriana_focus.3.c
		trigger = { STG_rukuriri = { is_advisor = no } }
		STG_rukuriri = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_rukuriri
					visible = { }
					traits = { pretend_to_be_calm }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = communism 
			popularity = 0.05 
		}
	}
}

#任命内务大臣
country_event = {
	id = StGloriana_focus.4
	title = StGloriana_focus.4.t
	desc = StGloriana_focus.4.d

	picture = GFX_StGloriana_focus_4

	is_triggered_only = yes

	option = {
		name = StGloriana_focus.4.a
		trigger = { STG_orangepekoe = { is_advisor = no } }
		STG_orangepekoe = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_orangepekoe
					visible = { }
					traits = { absolutely_loyal_comedian }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = democratic 
			popularity = 0.05 
		}
	}
	
	option = {
		name = StGloriana_focus.4.b
		trigger = { STG_earlGrey = { is_advisor = no } }
		STG_earlGrey = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_earlGrey
					visible = { }
					traits = { two_faced_devil }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = democratic 
			popularity = 0.05 
		}
	}
	
	option = {
		name = StGloriana_focus.4.c
		trigger = { STG_nilgiri = { is_advisor = no } }
		STG_nilgiri = {
			add_advisor_role = {
				advisor = {
					cost = 150
					slot = political_advisor
					allowed = { original_tag = STG }
					idea_token = STG_nilgiri
					visible = { }
					traits = { unlucky_but_cute_2 }
					on_add = { }
					on_remove = { }
				}
			}
		}
		add_popularity = {
			ideology = democratic 
			popularity = 0.05 
		}
	}
}

#国民保健署法被废除
country_event = {
	id = StGloriana_focus.5
	title = StGloriana_focus.5.t
	desc = StGloriana_focus.5.d
	picture = GFX_StGloriana_focus_5
	is_triggered_only = yes

	option = {
		name = StGloriana_focus.5.a
		add_to_variable = { var = STG_cairns_economy_effect_var_tax_daily_modifier value = 0.2 }
		add_to_variable = { var = STG_cairns_economy_effect_var_production_factory_max_efficiency_factor value = -0.1 }
		add_to_variable = { var = STG_cairns_economy_effect_var_production_factory_efficiency_gain_factor value = -0.1 }
		custom_effect_tooltip = STG_StGloriana_focus_5_tt
		hidden_effect = { country_event = { id = StGloriana_event.1 days = 3 } }
	}
}

#大罢工
country_event = {
	id = StGloriana_event.1
	title = StGloriana_event.1.t
	desc = StGloriana_event.1.d
	picture = GFX_StGloriana_event_1
	is_triggered_only = yes

	option = {
		name = StGloriana_event.1.a
		set_country_flag = STG_General_strike_flag
		activate_mission = STG_General_strike
		add_ideas = STG_General_strike_1
	}
}

#罢工结束
country_event = {
	id = StGloriana_event.2
	title = StGloriana_event.2.t
	desc = StGloriana_event.2.d
	picture = GFX_StGloriana_event_2
	is_triggered_only = no
	fire_only_once = yes
	trigger = {
		original_tag = STG
		has_idea = STG_General_strike_5
	}

	option = {
		name = StGloriana_event.2.a
		random_owned_state = {
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_state = {
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_state = {
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_state = {
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_state = {
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_state = {
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		add_to_variable = { var = STG_cairns_economy_effect_var_tax_daily_modifier value = 0.15 }
		add_to_variable = { var = STG_cairns_economy_effect_var_production_factory_max_efficiency_factor value = -0.05 }
		add_to_variable = { var = STG_cairns_economy_effect_var_production_factory_efficiency_gain_factor value = -0.05 }
		custom_effect_tooltip = STG_StGloriana_event_2_tt
	}
}

#罢工结束
country_event = {
	id = StGloriana_event.3
	title = StGloriana_event.3.t
	desc = StGloriana_event.3.d
	picture = GFX_StGloriana_event_3
	is_triggered_only = yes

	option = {
		name = StGloriana_event.3.a
		add_stability = 0.05
	}
}

#圣葛罗莉安娜的红茶加工厂倒闭
country_event = {
	id = StGloriana_focus.6
	title = StGloriana_focus.6.t
	desc = StGloriana_focus.6.d
	picture = GFX_StGloriana_focus_6
	is_triggered_only = yes

	option = {
		name = StGloriana_focus.6.a
		random_owned_state = {
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_state = {
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		add_to_variable = { var = STG_cairns_economy_effect_var_consumer_goods_factor value = -0.05 }
		add_to_variable = { var = STG_cairns_economy_effect_var_stability_factor value = -0.05 }
		custom_effect_tooltip = STG_StGloriana_focus_6_tt
		hidden_effect = { country_event = { id = StGloriana_event.4 days = 180 } }
	}
}